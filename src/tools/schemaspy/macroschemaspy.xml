<project>
	<property file="tools/schemaspy/schemaspy.properties" />
	<path id="path.schemaspy">
		<fileset dir="${dir.dependencies.tools}">
			<include name="schemaspy-5.0.0.jar" />
		</fileset>
	</path>
	<macrodef name="macroschemaspy">
		<attribute name="dirreports" />
		<sequential>
			<echo message="${line.separator}Schemaspy ..." />
			<mkdir dir="@{dirreports}" />
			<java classname="net.sourceforge.schemaspy.Main" fork="yes" output="@{dirreports}/output.log" error="@{dirreports}/error.log">
				<classpath refid="path.schemaspy" />
				<arg line="-t mysql" />
				<arg line="-host localhost" />
				<arg line="-port 3306" />
				<arg line="-db dbName" />
				<arg line="-u user" />
				<arg line="-s password" />
				<arg line="-p schema" />
				<arg line="-dp ${dir.dependencies.tools}/mysql-connector-java-5.1.26.jar" />
				<arg line="-hq" />
				<arg line="-o @{dirreports}" />
			</java>
		</sequential>
	</macrodef>
</project>